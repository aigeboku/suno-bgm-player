<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=380, initial-scale=1.0">
  <title>Suno BGM Player</title>
  <link rel="stylesheet" href="css/popup.css">
</head>
<body>
  <div class="player-container">
    <!-- Header -->
    <div class="header">
      <div class="header-left">
        <div class="logo">♪</div>
        <span class="app-title">Suno BGM</span>
      </div>
      <button id="btn-refresh" class="icon-btn" title="プレイリストを更新">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M23 4v6h-6M1 20v-6h6"/>
          <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
        </svg>
      </button>
    </div>

    <!-- Source Selector (Trending / Artist) -->
    <div class="source-section">
      <div class="source-tabs">
        <button id="tab-trending" class="source-tab active" title="トレンド曲">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/>
            <polyline points="17 6 23 6 23 12"/>
          </svg>
          <span>トレンド</span>
        </button>
        <button id="tab-artist" class="source-tab" title="アーティスト指定">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
            <circle cx="12" cy="7" r="4"/>
          </svg>
          <span>アーティスト</span>
        </button>
      </div>

      <!-- Artist Search (hidden by default) -->
      <div id="artist-search" class="artist-search hidden">
        <div class="search-input-wrapper">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="11" cy="11" r="8"/>
            <line x1="21" y1="21" x2="16.65" y2="16.65"/>
          </svg>
          <input id="artist-input" type="text" placeholder="@ハンドル名を入力（例: lightjourner）" class="artist-input">
          <button id="btn-load-artist" class="btn-load-artist" title="読み込み">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="5" y1="12" x2="19" y2="12"/>
              <polyline points="12 5 19 12 12 19"/>
            </svg>
          </button>
        </div>
        <div id="artist-info" class="artist-info hidden">
          <img id="artist-avatar" class="artist-avatar" src="" alt="">
          <div class="artist-details">
            <span id="artist-name" class="artist-name"></span>
            <span id="artist-handle" class="artist-handle"></span>
          </div>
        </div>
      </div>
    </div>

    <!-- Now Playing -->
    <div class="now-playing">
      <div class="album-art-container">
        <img id="album-art" src="" alt="Album Art" class="album-art">
        <div id="album-placeholder" class="album-placeholder">
          <svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor" opacity="0.3">
            <path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/>
          </svg>
        </div>
      </div>
      <div class="song-info">
        <div id="song-title" class="song-title">曲を選択してください</div>
        <div id="song-artist" class="song-artist">Suno BGM Player</div>
      </div>
    </div>

    <!-- Progress Bar -->
    <div class="progress-section">
      <span id="time-current" class="time">0:00</span>
      <div class="progress-bar-container">
        <div id="progress-bar" class="progress-bar">
          <div id="progress-fill" class="progress-fill"></div>
        </div>
      </div>
      <span id="time-total" class="time">0:00</span>
    </div>

    <!-- Controls -->
    <div class="controls">
      <button id="btn-shuffle" class="control-btn" title="シャッフル">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="16 3 21 3 21 8"/>
          <line x1="4" y1="20" x2="21" y2="3"/>
          <polyline points="21 16 21 21 16 21"/>
          <line x1="15" y1="15" x2="21" y2="21"/>
          <line x1="4" y1="4" x2="9" y2="9"/>
        </svg>
      </button>
      <button id="btn-prev" class="control-btn" title="前の曲">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/>
        </svg>
      </button>
      <button id="btn-play" class="control-btn play-btn" title="再生/一時停止">
        <svg id="icon-play" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
          <path d="M8 5v14l11-7z"/>
        </svg>
        <svg id="icon-pause" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" style="display:none">
          <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
        </svg>
      </button>
      <button id="btn-next" class="control-btn" title="次の曲">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/>
        </svg>
      </button>
      <button id="btn-repeat" class="control-btn" title="リピート">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="17 1 21 5 17 9"/>
          <path d="M3 11V9a4 4 0 0 1 4-4h14"/>
          <polyline points="7 23 3 19 7 15"/>
          <path d="M21 13v2a4 4 0 0 1-4 4H3"/>
        </svg>
      </button>
    </div>

    <!-- Volume -->
    <div class="volume-section">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
        <path d="M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07"/>
      </svg>
      <input id="volume-slider" type="range" min="0" max="100" value="50" class="volume-slider">
      <span id="volume-value" class="volume-value">50%</span>
    </div>

    <!-- Playlist Toggle -->
    <button id="btn-toggle-playlist" class="playlist-toggle">
      <span>プレイリスト</span>
      <span id="playlist-count" class="playlist-count">0曲</span>
      <svg id="chevron" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <polyline points="6 9 12 15 18 9"/>
      </svg>
    </button>

    <!-- Playlist -->
    <div id="playlist-section" class="playlist-section hidden">
      <div id="playlist" class="playlist"></div>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
      <div class="spinner"></div>
      <span id="loading-text">曲を読み込み中...</span>
    </div>
  </div>

  <script src="js/popup.js"></script>
</body>
</html>
